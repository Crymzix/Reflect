<Page loaded="pageLoaded" xmlns:drawer="nativescript-telerik-ui/sidedrawer" xmlns="http://www.nativescript.org/tns.xsd"
      actionBarHidden="true">
    <drawer:SideDrawer id="sideDrawer">
        <drawer:SideDrawer.drawerTransition>
            <drawer:SlideInOnTopTransition/>
        </drawer:SideDrawer.drawerTransition>
        <drawer:SideDrawer.mainContent>
            <StackLayout>
                <StackLayout>
                    <GridLayout cssClass="action-bar">
                        <GridLayout cssClass="action-wrap" tap="showSlideout" columns="auto" horizontalAlignment="left">
                            <Image stretch="none" cssClass="icon-image" src="res://ic_menu"/>
                        </GridLayout>
                        <Label text="Reflect" cssClass="action-bar-title"/>
                    </GridLayout>
                </StackLayout>

                <!-- Nearby Events View -->
                <StackLayout row="1" visibility="{{ selectedViewIndex === 0 ? 'visible' : 'collapsed'}}">
                    <Label text="Nearby Events" textWrap="true" cssClass="view-title"/>
                    <ListView items="{{ nearbyEvents }}"/>
                </StackLayout>

                <!-- My Events View -->
                <StackLayout row="1" visibility="{{ selectedViewIndex === 1 ? 'visible' : 'collapsed'}}">
                    <Label text="My Events" textWrap="true" cssClass="view-title"/>
                </StackLayout>

                <!-- Create Event View -->
                <StackLayout row="1" visibility="{{ selectedViewIndex === 2 ? 'visible' : 'collapsed'}}">
                    <Label text="Create Event" textWrap="true" cssClass="view-title"/>
                    <ScrollView>
                        <StackLayout>
                            <Image id="eventCover" src="{{ eventCoverPhoto }}" cssClass="event-photo"
                                   stretch="aspectFill"/>
                            <GridLayout cssClass="upload-photo-wrap" tap="choosePhoto" columns="auto"
                                        horizontalAlignment="left">
                                <Image stretch="none" cssClass="icon-image" src="res://ic_image_add_to_photos"/>
                            </GridLayout>
                            <TextField id="eventTitle" text="{{ title }}" hint="Title" keyboardType="email"
                                       autocorrect="true" cssClass="event-input-field"/>
                            <DatePicker year="2015" horizontalAlignment="center"/>
                            <TimePicker horizontalAlignment="center"/>
                            <TextField id="eventLocation" text="{{ location }}" hint="Location" keyboardType="email"
                                       autocorrect="false" cssClass="event-input-field"/>
                            <TextField id="eventDescription" height="100" text="{{ description }}" hint="Description"
                                       autocorrect="true" cssClass="event-input-field"/>
                            <GridLayout cssClass="upload-photo-wrap" tap="" columns="auto"
                                        horizontalAlignment="right" height="75">
                                <Image stretch="none" cssClass="icon-image" src="res://add_event"/>
                            </GridLayout>
                        </StackLayout>
                    </ScrollView>
                </StackLayout>

            </StackLayout>
        </drawer:SideDrawer.mainContent>
        <drawer:SideDrawer.drawerContent>
            <StackLayout cssClass="drawerContent">
                <StackLayout cssClass="headerContent">
                    <Image src="res://logo" stretch="none" horizontalAlignment="center" verticalAlignment="center"/>
                </StackLayout>
                <StackLayout cssClass="drawerMenuContent">
                    <Button tap="selectView" tag="0"
                            cssClass="{{ selectedViewIndex === 0 ? 'slide-out-btn-selected' : 'slide-out-btn' }}"
                            text="Nearby Events"/>
                    <Button tap="selectView" tag="1"
                            cssClass="{{ selectedViewIndex === 1 ? 'slide-out-btn-selected' : 'slide-out-btn' }}"
                            text="My Events"/>
                    <Button tap="selectView" tag="2"
                            cssClass="{{ selectedViewIndex === 2 ? 'slide-out-btn-selected' : 'slide-out-btn' }}"
                            text="Create Event"/>
                    <Button tap="switchToLogin" tag="3"
                            cssClass="{{ selectedViewIndex === 3 ? 'slide-out-btn-selected' : 'slide-out-btn' }}"
                            text="Log In"/>
                </StackLayout>
            </StackLayout>
        </drawer:SideDrawer.drawerContent>
    </drawer:SideDrawer>
</Page>